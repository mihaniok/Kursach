<!-- templates/profile.html -->

{% extends "base.html" %}

{% block content %}
<div class="profile-container">
    <h2>Личный кабинет</h2>
    <div class="profile-info">
        <p><strong>Логин:</strong> {{ username }}</p>
        <p><strong>Группа:</strong> {{ group_name }}</p>
        <p><strong>Дата регистрации:</strong> {{ date_joined.strftime('%Y-%m-%d %H:%M:%S') }}</p>
    </div>
    
    <h3>Редактировать профиль</h3>
    <form method="POST" class="form">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.display_name.label }}
            {{ form.display_name(class="form-input") }}
            {% for error in form.display_name.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.email.label }}
            {{ form.email(class="form-input") }}
            {% for error in form.email.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.phone.label }}
            {{ form.phone(class="form-input") }}
            {% for error in form.phone.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.city.label }}
            {{ form.city(class="form-input") }}
            {% for error in form.city.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.date_of_birth.label }}
            {{ form.date_of_birth(class="form-input") }}
            {% for error in form.date_of_birth.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.admission_year.label }}
            {{ form.admission_year(class="form-input") }}
            {% for error in form.admission_year.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <hr>
        <h4>Изменить пароль</h4>
        <div class="form-group">
            {{ form.current_password.label }}
            {{ form.current_password(class="form-input") }}
            {% for error in form.current_password.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.new_password.label }}
            {{ form.new_password(class="form-input") }}
            {% for error in form.new_password.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.confirm_new_password.label }}
            {{ form.confirm_new_password(class="form-input") }}
            {% for error in form.confirm_new_password.errors %}
                <span class="error">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="form-group">
            {{ form.submit(class="form-button") }}
        </div>
    </form>
</div>
{% endblock %}
